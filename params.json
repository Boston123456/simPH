{"name":"simPH","tagline":"Tools for simulating and graphing results from proportional hazards survival models.","body":"simPH\r\n======\r\n\r\n<img src=\"img/plotbanner.png\" height=\"40\" width=\"1000\" alt=\"banner-image\"></img>\r\n\r\n### Christopher Gandrud\r\n\r\n### Version 1.3.1 [![Build Status](https://travis-ci.org/christophergandrud/simPH.png)](https://travis-ci.org/christophergandrud/simPH) ![CRAN Downloads](http://cranlogs.r-pkg.org/badges/last-month/simPH)\r\n\r\n#### Please report any bugs to:\r\n\r\n<https://github.com/christophergandrud/simPH/issues>\r\n\r\n---\r\n\r\n**simPH** is an R package for simulating and plotting quantities of interest\r\n(relative hazards, first differences, and hazard ratios) for linear\r\ncoefficients, multiplicative interactions, polynomials, penalised splines, and\r\nnon-proportional hazards, as well as stratified survival curves from Cox\r\nProportional Hazard models.\r\n\r\nFor more information plus examples, please see the\r\n[description paper](http://ssrn.com/abstract=2318977) forthcoming in the\r\n[Journal of Statistical Software](http://www.jstatsoft.org/).\r\n\r\nTo cite the paper please use:\r\n\r\n```\r\n@article{simPH_JSS,\r\n    author = {Christopher Gandrud},\r\n    title = {simPH: An R Package for Illustrating Estimates from Cox\r\n        Proportional Hazard Models Including for Interactive and Nonlinear\r\n        Effects},\r\n    journal = {Journal of Statistical Software},\r\n    year = {2015},\r\n    volume = {65},\r\n    issue = {3},\r\n    pages = {1--20}\r\n}\r\n```\r\n\r\n## Functions\r\n\r\nThe package includes the following functions:\r\n\r\n#### Simulation Functions\r\n\r\n- `coxsimLinear`: a function for simulating relative hazards, first differences,\r\nhazard ratios, and hazard rates for linear, non-time interacted covariates from\r\nCox Proportional Hazard models.\r\n\r\n- `coxsimtvc`: a function for simulating time interactive hazards (relative\r\nhazards, first differences, and hazard ratios) for covariates from Cox\r\nProportional Hazard models. The function will calculate time-interactive hazard\r\nratios for multiple strata estimated from a stratified Cox Proportional Hazard\r\nmodel.\r\n\r\n- `coxsimSpline`: a function for simulating quantities of interest from\r\npenalised splines using multivariate normal distributions. Currently does not\r\nsupport simulating hazard rates from stratified models. **Note:** be extremely\r\ncareful about the number of simulations you ask the function to find. It is very\r\neasy to ask for more than your computer can handle.\r\n\r\n- `coxsimPoly`: a function for simulating quantities of interest for a range of\r\nvalues for a polynomial nonlinear effect from Cox Proportional Hazard models.\r\n\r\n- `coxsimInteract`: a function for simulating quantities of interest for linear\r\nmultiplicative interactions, including marginal effects and hazard rates.\r\n\r\n#### Plotting Functions\r\n\r\nResults from these functions can be plotted using the `simGG` method. The\r\nsyntax and capabilities of `simGG` varies depending on the `sim` object class\r\nyou are using:\r\n\r\n- `simGG.simlinear`: plots simulated linear time-constant hazards using\r\n[ggplot2](http://ggplot2.org/).\r\n\r\n- `simGG.simtvc`: uses **ggplot2** to graph the simulated time-varying relative\r\nhazards, first differences, hazard ratios or stratified hazard rates.\r\n\r\n- `simGG.simspline`: uses **ggplot2** to plot\r\nquantities of interest from `simspline` objects, including relative hazards,\r\nfirst differences, hazard ratios, and hazard rates.\r\n\r\n- `simGG.simpoly`: uses **ggplot2** to graph the simulated polynomial quantities\r\nof interest.\r\n\r\n- `simGG.siminteract`: uses **ggplot2** to graph linear multiplicative\r\ninteractions.\r\n\r\n##### Additional styling\r\n\r\nBecause in almost all cases `simGG` returns a *ggplot2* object, you can add\r\nadditional aesthetic attributes in the normal *ggplot2* way. See the\r\n[ggplot2 documentation for more details](http://docs.ggplot2.org).\r\n\r\n#### Misc.\r\n\r\n- `SurvExpand`: a function for converting a data frame of non-equal interval\r\ncontinuous observations into equal interval continuous observations. This is\r\nuseful to do before creating time interactions.\r\n\r\n- `tvc`: a function for creating time interactions. Currently supports\r\n`'linear'`, natural `'log'`, and exponentiation (`'power'`).\r\n\r\n- `setXl`: a function for setting valid `Xl` values given a sequence of fitted\r\n`Xj` values. This makes it more intuitive to find hazard ratios and first\r\ndifferences for comparisons between some Xj fitted values and Xl values other\r\nthan 0.\r\n\r\n- `ggfitStrata`: a function to plot fitted stratified survival curves estimated\r\nfrom `survfit` using **ggplot2**. This function builds on the **survival**\r\npackage's `plot.survfit` function. One major advantage is the ability to split\r\nthe survival curves into multiple plots and arrange them in a grid. This makes\r\nit easier to examine many strata at once. Otherwise they can be very bunched up.\r\n\r\n- `MinMaxLines`: a function for summarising the constricted intervals from the\r\nsimulations, including the median, upper and lower bounds and\r\nthe middle 50% of these intervals.\r\n\r\n## Installation\r\n\r\nThe package is available on CRAN and can be installed in the normal R way.\r\n\r\nTo install the development version use the\r\n[devtools](https://github.com/hadley/devtools) function `install_github`. Here\r\nis the code for installing the most recent development version:\r\n\r\n```{S}\r\ndevtools::install_github('christophergandrud/simPH')\r\n```\r\n\r\n## Tip\r\n\r\nBefore running the simulation and graph functions in this package carefully\r\nconsider how many simulations you are about to make. Especially for hazard rates\r\nover long periods of time and with multiple strata, you can be asking **simPH**\r\nto run very many simulations. This will be computationally intensive.\r\n\r\n## Sources\r\n\r\n### Simulating Parameter Estimates\r\n\r\nFor more information about simulating parameter estimates to make interpretation\r\nof results easier see:\r\n\r\nLicht, Amanda A. 2011. [“Change Comes with Time: Substantive Interpretation of Nonproportional Hazards in Event History Analysis.”](http://pan.oxfordjournals.org/content/19/2/227.abstract)\r\n*Political Analysis* 19: 227–43.\r\n\r\nKing, Gary, Michael Tomz, and Jason Wittenberg. 2000.\r\n[“Making the Most of Statistical Analyses: Improving Interpretation and Presentation.”](http://www.jstor.org/stable/2669316) *American Journal of Political Science* 44(2): 347–61.\r\n\r\n### Stratified Cox PH\r\n\r\nFor more information about stratified Cox PH models (and frailties, which I am\r\nworking to incorporate in future versions) see:\r\n\r\nBox-Steffensmeier, Janet M, and Suzanna De Boef. 2006. [“Repeated Events Survival Models: the Conditional Frailty Model.”](http://onlinelibrary.wiley.com/doi/10.1002/sim.2434/abstract;jsessionid=28218243DD3D6E01A3D10EEE75D96675.d01t02) *Statistics in Medicine* 25(20): 3518–33.\r\n\r\n### Shortest Probability Intervals\r\n\r\nTo learn more about shortest probability intervals (and also for the source of\r\nthe code that made this possible in **simPH**) see:\r\n\r\nLiu, Y., Gelman, A., & Zheng, T. (2013).\r\n[\"Simulation-efficient Shortest Probablility Intervals.\"](http://arxiv.org/pdf/1302.2142v1.pdf)\r\n*Arvix*.\r\n\r\n**Also good:** Hyndman, R. J. (1996).\r\n[\"Computing and Graphing Highest Density Regions.\"](http://www.jstor.org/stable/10.2307/2684423)\r\n*The American Statistician*, 50(2): 120–126.\r\n\r\n### Interpreting Interactions\r\n\r\nFor more information about interpreting interaction terms:\r\n\r\nBrambor, Thomas, William Roberts Clark, and Matt Golder. 2006.\r\n[“Understanding Interaction Models: Improving Empirical Analyses.”](http://pan.oxfordjournals.org/content/14/1/63.abstract)\r\n*Political Analysis* 14(1): 63–82.\r\n\r\n### The Olden Days\r\n\r\nFor an example of how non-proportional hazard results were often presented\r\nbefore **simPH** see (some of the problems I encountered in this paper were a\r\nmajor part of why I'm developing this package):\r\n\r\nGandrud, Christopher. 2013. [“The Diffusion of Financial Supervisory Governance Ideas.”](http://www.tandfonline.com/doi/full/10.1080/09692290.2012.727362)\r\n*Review of International Political Economy*. 20(4): 881-916.\r\n\r\n## Future Plans\r\n\r\nI intend to expand the quantities of interest that can be simulated and graphed\r\nfor Cox PH models. I am also currently working on functions that can simulate\r\nand graph hazard ratios estimated from\r\n[Fine and Gray competing risks models](http://www.jstor.org/stable/2670170).\r\n\r\nI am also working on a way to graph hazard ratios with frailties.\r\n\r\n---\r\n\r\nLicensed under [GPL-3](https://github.com/christophergandrud/simPH/blob/master/LICENSE.md)\r\n","google":"UA-985930-7","note":"Don't delete this file! It's used internally to help with page regeneration."}